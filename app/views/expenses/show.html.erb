
<%= render @expense %>

<div>
  <%= link_to "Edit this expense", edit_expense_path(@expense), class:"btn btn-secondary" %>
  <%= link_to "Back to account", account_path(@account), class:"btn btn-secondary" %>
<br/><br/>
  <%= button_to "Destroy this expense", @expense, method: :delete, class:"btn btn-danger" %>
</div>


<!-- Display exp_transaction details -->

<br/>
<div class="d-flex justify-content-between align-items-center">
    <h3>Transactions
      <%= link_to image_tag('plus.svg', :size => "35x35"), new_exp_transaction_path(expense_id: @expense.id) %>
    </h3>
</div>   


<% if @exp_transactions.present? %>
  <% @exp_transactions.each do |exp_transaction| %>
    
  <% end %>
<% else %>
  <p>No transactions found.</p>
<% end %>


<table class="table table-hover">
  <thead>
    <tr>
      <th>Date:</th>
      <th>Source:</th>
      <th>Description:</th>
      <th>Amount:</th>
      <th colspan="3"></th>
    </tr>
  </thead>
  <tbody>
    <% @exp_transactions.reverse.each do |exp_transaction| %>
      <tr>
        <td><%= exp_transaction.date %></td>
        <td><%= exp_transaction.source %></td>
        <td><%= exp_transaction.description %></td>
        <td><%= number_to_currency(exp_transaction.amount) %></td>
        <td><%= link_to "Show", exp_transaction, class:"btn btn-outline-secondary btn-sm" %></td>
        <td><%= link_to "Edit", edit_exp_transaction_path(exp_transaction), class:"btn btn-outline-secondary btn-sm" %></td>
        <td><%= button_to "Destroy", exp_transaction, method: :delete, data: { confirm: "Are you sure?" }, class:"btn btn-outline-danger btn-sm" %></td>
      </tr>
    <% end %>
  </tbody>
</table>